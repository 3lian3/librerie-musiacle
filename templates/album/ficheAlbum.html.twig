{% extends 'base.html.twig' %}

{% block title %}Fiche Albums{% endblock %}

{% block body %}
<h1 class="pt-2 text-center">Fiche de l'album</h1>
<hr>
    <div class="card mb-3">
      <span>
        <h4 class="card-header">{{ leAlbum.nom }}</h4>
          </span>
          <div class="row">
              <div class="col-3 d-flex align-items-center mx-auto">
                  <img class="avatar mx-auto d-block m-4" style="height: 250px; width: 250px; display: block;" src="{{ leAlbum.image }}"></img>
              </div>
              <div class="col">
                  <div class="card-body">
                      <h5 class="card-title">
                      <a href="{{ path('ficheArtiste', {'id': leAlbum.artiste.id}) }}" class="badge bg-success">Artiste : {{ leAlbum.artiste.nom }}</a>
                      </h5>
                      <p class="card-text">{{ leAlbum.date }}</p>
                  </div>
                  <ul class="list-group list-group-flush">
                      <li class="list-group-item">
                      {% for leStyle in leAlbum.styles %}
                      <span>Style : {{ leStyle.nom }}</span>
                      {% endfor %}
                      </li>
                      {% set nb = leAlbum.morceaux|length %} 
                      <li class="list-group-item">
                      {{nb}}{% if nb>1 %}morceaux{% else %}morceau{% endif %}
                      </li>
                  </ul>
              </div>
          </div>
    </div>
  <table class="table table-hover mx-auto">
    <thead>
      <tr>
        <th scope="col-3">Piste</th>
        <th scope="col-3">Titre</th>
        <th scope="col-1">Dur√©e</th>
        <th scope="col-5">Note</th>
      </tr>
    </thead>
    <tbody>
      {% for leMorceau in leAlbum.morceaux %}
        <tr>     
          <td scope="row">{{ leMorceau.piste}}</td>
          <td>{{ leMorceau.titre }}</td>
          <td>{{ leMorceau.duree }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
